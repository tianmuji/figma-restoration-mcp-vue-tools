---
alwaysApply: true
---
# Figma Workflow

## Purpose
Complete Figma component restoration workflow from initial analysis through final optimization, including visual-driven development and quality assurance procedures.

## Core Concepts
- **Two-Phase Workflow**: Resource preparation followed by restoration execution
- **Visual-Driven Development**: Image analysis-first approach to component restoration
- **Asset Processing**: Strategic conversion of complex elements to optimized assets
- **Quality Assurance**: Accuracy measurement and optimization procedures
- **File Structure**: Organized directory structure for components and resources

## Core Principles

### Visual-First Approach
- **Primary capability**: Use Claude's image recognition to analyze expected.png before processing JSON
- **Element filtering**: Identify truly visible elements vs redundant/invisible ones in Figma JSON
- **Structure optimization**: Optimize nested structures based on visual hierarchy
- **Asset identification**: Detect assets by visual analysis and naming patterns

### Quality Standards
- **Target accuracy**: â‰¥98% pixel match (threshold: 0.02)
- **Visual validation**: Use expected.png as ground truth for all decisions
- **Data storage**: Store results in `metadata.json.restorationData`
- **Complex Element Strategy**: Convert complex UI elements to SVG assets instead of CSS recreation

## Two-Phase Workflow Architecture

### Phase 1: Analysis & Planning (åˆ†æé˜¶æ®µ)
**Objective**: Analyze design structure, identify required resources, and create implementation plan for user confirmation

#### Steps:
1. **Get Figma Data**: Extract design data using `mcp_figma-context_get_figma_data`
2. **Download Expected Image**: Download reference image using `mcp_figma-context_download_figma_images` (filename: "expected.png", useAbsoluteBounds: true)
3. **ç»¼åˆè§†è§‰ä¸ç»“æ„åˆ†æ** (Critical Step):
   - **Visual Analysis**: Use Claude's image recognition to analyze expected.png
   - **JSON Structure Analysis**: Cross-reference Figma JSON with visual elements
   - **Element Mapping**: Map visible elements in image to JSON nodes
   - **Structure Optimization**: Identify optimal page structure based on visual hierarchy
   - **Asset vs Text Classification**: Categorize elements into assets and text elements
4. **Element Classification & Asset Planning**:
   - **Text Elements**: Identify all text content that can be implemented with CSS
   - **Asset Elements**: Identify elements requiring asset download (icons, complex graphics, images)
   - **Special Cases**: Mobile status bars â†’ treat as complete asset download
   - **Layout Structure**: Plan modern CSS layout approach (flexbox/grid)
5. **Generate Analysis Report**: Output comprehensive analysis with element classification
6. **User Confirmation**: Wait for user approval of analysis and asset download plan

**Output**: Analysis report with element classification + User confirmation interface
**Key Strategy**: Analyze first, download only after user confirmation
**No Downloads**: Phase 1 only analyzes, no actual asset downloads

### Phase 1 Analysis Report Format
The analysis report should include:

#### ğŸ“± ç•Œé¢ç»“æ„åˆ†æ
- **Container dimensions**: Width x Height
- **Layout hierarchy**: Top-down structural breakdown
- **Visual grouping**: Related elements and containers

#### ğŸ“ å…ƒç´ åˆ†ç±»
**æ–‡æœ¬å…ƒç´  (CSSå®ç°):**
- List all text content with styling requirements
- Font families, sizes, weights, colors
- Text positioning and alignment

**èµ„æºå…ƒç´  (éœ€è¦ä¸‹è½½):**
- Asset names and node IDs for download
- Asset type (icon, image, complex UI element)
- Rationale for asset vs CSS approach

**ç‰¹æ®Šæƒ…å†µ:**
- Mobile status bars â†’ æ•´ä½“èµ„æºåŒ–
- Complex navigation elements â†’ èµ„æºä¼˜å…ˆç­–ç•¥
- Multi-layer graphics â†’ ç´ æè½¬æ¢å»ºè®®

#### ğŸ¯ å®ç°ç­–ç•¥
- **Layout approach**: Flexbox/Grid planning
- **Color scheme**: Primary colors and theme
- **Responsive considerations**: Mobile-first approach
- **Asset integration**: How assets will be incorporated

**User Confirmation Required**: Clear list of assets to download in Phase 2

### Phase 2: Implementation & Restoration (å®ç°é˜¶æ®µ)
**Objective**: Download assets and execute component restoration based on user-confirmed analysis
**Prerequisite**: Phase 1 analysis completed and user confirmed

#### Steps:
7. **Download Confirmed Assets**: Download user-approved assets using `mcp_figma-context_download_figma_images` (useAbsoluteBounds: true for components with box shadow)
8. **Optimize SVG Assets**: Use `mcp_figma_restoration_mcp_vue_tools_optimize_svg` for all downloaded SVG files
9. **Generate Component**: Create Vue component with downloaded assets and planned structure
10. **Screenshot**: Take component screenshot using `mcp_figma_restoration_mcp_vue_tools_snapdom_screenshot` (useAbsoluteBounds: true for components with box shadow)
11. **Compare**: Generate comparison using `mcp_figma_restoration_mcp_vue_tools_figma_compare`

**å¦‚æœè¿˜åŸåº¦ < 98%ï¼Œå¿…é¡»æ‰§è¡Œæ ‡å‡†åŒ–åˆ†ææµç¨‹ï¼š**

12. **å·®å¼‚å›¾åˆ†æ** (å¼ºåˆ¶æ­¥éª¤):
    - è¯»å–å¹¶åˆ†æ diff.png
    - åº”ç”¨å·®å¼‚å›¾åˆ†æè§„åˆ™è¯†åˆ«å·®å¼‚æ¨¡å¼
    - è®°å½•å·®å¼‚ç‰¹å¾: é¢œè‰²ã€åˆ†å¸ƒã€é¢ç§¯
    
13. **åŸå§‹ JSON é‡æ–°åˆ†æ** (å¼ºåˆ¶æ­¥éª¤):
    - å¯¹æ¯” Figma JSON ä¸å½“å‰ CSS å®ç°
    - è¯†åˆ« sizingã€layoutã€positioning å·®å¼‚
    - å®šä½ç»“æ„æ€§ vs æ ·å¼æ€§é—®é¢˜
    
14. **çŸ¥è¯†åº“æŸ¥è¯¢** (å¼ºåˆ¶æ­¥éª¤):
    - åŸºäºå·®å¼‚åˆ†æç»“æœæœç´¢ç›¸å…³è§£å†³æ–¹æ¡ˆ
    - éªŒè¯æ–¹æ¡ˆé€‚ç”¨æ€§
    
15. **é’ˆå¯¹æ€§ä¼˜åŒ–**: åŸºäºå‰ä¸‰æ­¥åˆ†æç»“æœåº”ç”¨ä¿®å¤
16. **è¿­ä»£éªŒè¯**: é‡å¤æ­¥éª¤ 10-15ï¼Œæœ€å¤š 3 æ¬¡
17. **æ–‡æ¡£è®°å½•**: è®°å½•æˆåŠŸçš„å·®å¼‚æ¨¡å¼å’Œè§£å†³æ–¹æ¡ˆ

**Output**: Completed Vue component + Restoration accuracy report

## Visual Analysis Process

### ç»¼åˆåˆ†ææ–¹æ³• (Visual + JSON Analysis)
**æ ¸å¿ƒç†å¿µ**: ç»“åˆè§†è§‰åˆ†æå’ŒJSONç»“æ„åˆ†æï¼Œå¾—å‡ºæœ€åˆç†çš„é¡µé¢ç»“æ„

#### Step 1: Visual Content Analysis
1. **Use Claude's image recognition** to analyze expected.png
2. **Identify visual elements**: buttons, text, icons, containers, backgrounds
3. **Analyze visual hierarchy**: layout flow, spacing, alignment, grouping
4. **Detect visual patterns**: repeated elements, consistent spacing, color schemes

#### Step 2: JSON Structure Analysis  
1. **Parse Figma JSON** to understand design structure
2. **Analyze layout properties**: mode (column/row), sizing (fixed/hug/fill), gap, padding
3. **Map positioning data**: locationRelativeToParent, absolute coordinates
4. **Identify node relationships**: parent-child hierarchy, nesting levels

#### Step 3: Cross-Reference & Optimization
1. **Map visual elements to JSON nodes**: Connect what you see with JSON data
2. **Identify discrepancies**: JSON nodes without visual representation
3. **Optimize structure**: Combine visual hierarchy with JSON layout logic
4. **Design implementation strategy**: Modern CSS approach based on analysis

### Element Filtering Strategy
1. **Visual inventory**: List all truly visible elements in expected.png
   - **Primary Method**: Use Claude's visual analysis capabilities to identify actual visible elements
   - **Direct Analysis**: Read expected.png using readFile tool and analyze visually with Claude
   - **Critical Step**: Visual inspection of expected.png for detailed structure identification
   - **Verification**: Direct visual analysis to understand layout hierarchy and element relationships
   - **Analysis Output**: Document visual elements, layout hierarchy, and structural patterns through direct observation
2. **JSON-Visual Cross-Reference**: 
   - Map each visible element in expected.png to corresponding Figma JSON nodes
   - Identify JSON nodes that don't correspond to visible elements
   - Analyze layout hierarchy: containers, positioning, sizing relationships
3. **Redundancy removal**: Filter out invisible/redundant elements
   - Elements with opacity: 0 or size: 0
   - Nested containers that don't affect visual layout
   - Duplicate or overlapping elements
4. **Structure optimization**: Design optimal page structure
   - Based on visual hierarchy observed in expected.png
   - Informed by Figma JSON layout properties (mode, sizing, gap, padding)
   - Prioritize modern CSS layout patterns (flexbox, grid)
5. **åˆç†é¡µé¢ç»“æ„åˆ†æ**: Determine most reasonable page structure
   - Combine visual analysis insights with JSON structural data
   - Optimize for both visual accuracy and code maintainability
   - Document structure decisions for implementation phase

### Layout Conversion Strategy
- **Figma to Modern CSS**: Convert Figma absolute positioning to modern responsive layouts
- **Relationship Analysis**: Analyze relative positioning and spacing relationships
- **Visual Accuracy**: Maintain visual accuracy while improving code structure
- **Complex Element Handling**: Convert complex UI elements to SVG assets when CSS implementation is insufficient

## File Structure & Organization

### Project Directory Structure
```
/src/figma-data/                    # Centralized Figma JSON storage
/src/restoration-tips/              # Knowledge base for optimization strategies

/src/components/{ComponentName}/
â”œâ”€â”€ index.vue                       # Main component
â”œâ”€â”€ metadata.json                   # Includes restorationData
â”œâ”€â”€ layout-analysis.json           # Visual analysis results
â”œâ”€â”€ images/                         # Assets (SVG, PNG)
â””â”€â”€ results/                        # Screenshots & comparisons
    â”œâ”€â”€ expected.png                # Figma reference (Phase 1)
    â”œâ”€â”€ actual.png                  # Component screenshot (Phase 2)
    â””â”€â”€ diff.png                    # Comparison result (Phase 2)
```

### Path Requirements
- **Always use absolute paths** for MCP tool calls
- **Figma data**: Save to `/src/figma-data/`
- **Assets**: Save to component's `images/` directory
- **Screenshots**: Save to component's `results/` directory
- **Knowledge base**: Store in `/src/restoration-tips/`

## Asset Processing Architecture

### Asset Identification Rules
- **Name patterns**: `ic`, `ic_`, `ç´ æ`, `material`, `asset`, `icon`, `img`, `image`
- **Node type priority**: RECTANGLE/VECTOR/PATH > INSTANCE/COMPONENT > GROUP/FRAME
- **SVG sizing**: Original size must equal CSS size (no scaling)
- **Complex element strategy**: Download complete UI sections (status bars, nav bars) as single assets

### Critical Screenshot Parameters
- **useAbsoluteBounds: true**: MUST be used when component has box shadow effects
- **Why it matters**: Box shadows extend beyond element boundaries and need absolute bounds to be captured correctly
- **Impact on accuracy**: Can improve restoration accuracy by 15-20% when properly applied
- **When to use**: Always check for box-shadow, drop-shadow, or any effects that extend beyond element boundaries

### Special Cases for Mobile UI Elements
- **Mobile Status Bar**: è¯†åˆ«ä¸º"çŠ¶æ€æ "æˆ–åŒ…å«æ—¶é—´ã€ç”µæ± ã€ä¿¡å·ç­‰å…ƒç´ çš„é¡¶éƒ¨åŒºåŸŸ
  - **Strategy**: ç›´æ¥æ•´ä¸ªå½“æˆç´ æä¸‹è½½ï¼Œä¸æ‹†åˆ†ä¸ºå•ç‹¬ç»„ä»¶
  - **Rationale**: çŠ¶æ€æ æ˜¯è®¾è®¡ç¨¿çš„å ä½å…ƒç´ ï¼Œæ•´ä½“ä¸‹è½½ç¡®ä¿ç²¾ç¡®è¿˜åŸ
  - **Implementation**: ä½¿ç”¨å•ä¸ªSVGèµ„æºæ›¿ä»£å¤æ‚çš„CSSå¸ƒå±€
- **Navigation Bars**: è¯†åˆ«å¤æ‚å¯¼èˆªæ å…ƒç´ æ—¶ä¼˜å…ˆè€ƒè™‘æ•´ä½“èµ„æºåŒ–
- **Complex Controls**: å¤šå±‚æ§ä»¶ç»„åˆä¼˜å…ˆä½¿ç”¨èµ„æºè€ŒéCSSé‡å»º

### Complex Element Optimization Strategy
**When to Convert to Assets:**
- Mobile status bars with detailed icons and precise layouts
- Multi-layer navigation bars with complex controls
- 3D effect cards and complex shadows/gradients
- Complex icon combinations and nested groups
- Gradient and shadow effects that are hard to replicate in CSS
- Elements with imageRef fills or complex boolean operations

**Implementation Pattern:**
```vue
<!-- Instead of complex CSS recreation -->
<div class="complex-status-bar">
  <div class="status-left">...</div>
  <div class="status-right">...</div>
</div>

<!-- Use SVG asset for better accuracy -->
<div class="status-bar">
  <img src="./images/status-bar-complete.svg" alt="çŠ¶æ€æ " class="status-bar-img" />
</div>
```

**Expected Results:**
- **Accuracy Improvement**: 5-10% restoration accuracy boost
- **Reduced Complexity**: Simpler CSS and DOM structure
- **Better Fidelity**: Pixel-perfect visual matching
- **Easier Maintenance**: Single asset file vs complex CSS

**Asset Download Strategy:**
1. Identify complex elements during Phase 1 visual analysis
2. Download complete element groups as SVG using asset download tools
3. Replace CSS implementations with `<img>` tags
4. Ensure proper sizing: `width: 100%; height: 100%; object-fit: cover;`

## Data Management

### Restoration Data Storage
Store accuracy results in `metadata.json` under `restorationData` field:
```json
{
  "restorationData": {
    "matchPercentage": 98.5,
    "diffPixels": 1250,
    "totalPixels": 85000,
    "dimensions": { "width": 300, "height": 200 },
    "timestamp": "2025-01-01T12:00:00.000Z",
    "status": "completed"
  }
}
```

### Knowledge Base Usage
- **Location**: `/src/restoration-tips/` directory
- **When to use**: If accuracy < 98%, search for similar issues
- **Common patterns**: asset identification, layout differences
- **Update**: Document new solutions for future reference if confirmed

## Optimization Strategy

### Complex Element to Asset Conversion
**When to Apply**: Strategic optimization for specific complex elements only

**Primary Candidates** (Apply when accuracy < 90% AND element meets criteria):
- **Mobile status bars with 5+ detailed icons and precise layouts**
- **Navigation bars with complex multi-layer controls and gradients**
- **3D effect cards with multiple shadows and complex gradients**

**Secondary Candidates** (Apply when accuracy < 85% AND CSS recreation is impractical):
- Elements with imageRef fills or complex boolean operations
- Multi-layer icon combinations with precise positioning
- Complex gradient and shadow effects that require 10+ CSS properties

**Strategic Implementation Pattern**:
```vue
<!-- Only when CSS recreation requires 10+ properties and accuracy < 90% -->
<div class="complex-element">
  <img src="./images/complex-element.svg" alt="Element" class="element-img" />
</div>

<!-- Prefer CSS implementation for simple elements -->
<div class="simple-button">
  <div class="icon-wrapper">
    <svg>...</svg> <!-- Inline SVG for simple icons -->
  </div>
  <span class="text">Button Text</span>
</div>
```

**Decision Criteria**:
- **CSS complexity**: 10+ properties needed for accurate recreation
- **Accuracy threshold**: Current accuracy < 90%
- **Maintenance cost**: Asset updates vs CSS maintenance
- **Performance impact**: File size vs rendering performance

**Expected Results**: +5-10% accuracy improvement when strategically applied

### æ ‡å‡†åŒ–è¿˜åŸåº¦ä¼˜åŒ–æµç¨‹

**å½“è¿˜åŸåº¦ < 98% æ—¶ï¼Œå¿…é¡»æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š**

#### ç¬¬ä¸€æ­¥: å·®å¼‚å›¾è¯†åˆ«ä¸åˆ†æ (å¿…é¡»)
1. **è¯»å– diff.png**: è·å–å·®å¼‚å›¾è¿›è¡Œè§†è§‰åˆ†æ
   - **Use Claude's visual analysis** to identify difference patterns
   - ç›´æ¥ä½¿ç”¨Claudeçš„å›¾åƒè¯†åˆ«èƒ½åŠ›åˆ†æå·®å¼‚å›¾
   - é€šè¿‡readFileå·¥å…·è¯»å–å›¾åƒæ–‡ä»¶ï¼Œè®©Claudeè¿›è¡Œè§†è§‰åˆ†æ
2. **åº”ç”¨å·®å¼‚å›¾åˆ†æè§„åˆ™**:
   - è¯†åˆ«é¢œè‰²æ¨¡å¼: çº¢è‰²(æ˜¾è‘—å·®å¼‚) vs æ©™è‰²(ä¸­ç­‰å·®å¼‚) vs é»„è‰²(æ¸²æŸ“å·®å¼‚)
   - åˆ†æå·®å¼‚åˆ†å¸ƒ: å—çŠ¶/æ¡å¸¦çŠ¶(ç»“æ„é—®é¢˜) vs ç»†çº¿çŠ¶(æ¸²æŸ“é—®é¢˜)
   - è¯„ä¼°é—®é¢˜ä¸¥é‡ç¨‹åº¦å’Œå½±å“èŒƒå›´
3. **å·®å¼‚åŒºåŸŸå®šä½**: 
   - ç²¾ç¡®å®šä½å·®å¼‚åŒºåŸŸåœ¨é¡µé¢ä¸­çš„ä½ç½®
   - åˆ†æå·®å¼‚åŒºåŸŸå¯¹åº”çš„é¡µé¢å…ƒç´ ç±»å‹
   - è¯„ä¼°å·®å¼‚å¯¹æ•´ä½“è§†è§‰æ•ˆæœçš„å½±å“ç¨‹åº¦
4. **ä¼˜åŒ–æªæ–½æ¨å¯¼**: åŸºäºå·®å¼‚åˆ†æå¾—å‡ºå…·ä½“ä¼˜åŒ–æªæ–½
   - ç»“æ„æ€§å·®å¼‚ â†’ å¸ƒå±€è°ƒæ•´ç­–ç•¥
   - æ¸²æŸ“å·®å¼‚ â†’ æ ·å¼ç²¾è°ƒæ–¹æ¡ˆ
   - å…ƒç´ ç¼ºå¤± â†’ å®ç°è¡¥å……å»ºè®®

#### ç¬¬äºŒæ­¥: åŸå§‹ JSON é‡æ–°åˆ†æ (å¿…é¡»)
1. **å¯¹æ¯” Figma JSON ä¸å½“å‰å®ç°**:
   - æ£€æŸ¥ layout å±æ€§: `mode`, `sizing`, `gap`, `padding`
   - éªŒè¯ dimensions: `width`, `height`, `fixed` vs `hug` vs `fill`
   - ç¡®è®¤ positioning: `locationRelativeToParent` åæ ‡
2. **è¯†åˆ«ç»“æ„æ€§å·®å¼‚**:
   - sizing å®ç°é”™è¯¯ (hug â†’ fit-content, fixed â†’ å›ºå®šå€¼)
   - å¸ƒå±€æ¨¡å¼å·®å¼‚ (column/row â†’ flex-direction)
   - å®šä½æ–¹å¼å·®å¼‚ (ç»å¯¹åæ ‡ â†’ CSS positioning)
3. **å®šä½æ ¹æœ¬é—®é¢˜**: ç¡®å®šæ˜¯ç»“æ„æ€§é—®é¢˜è¿˜æ˜¯æ ·å¼é—®é¢˜

#### ç¬¬ä¸‰æ­¥: çŸ¥è¯†åº“æŸ¥è¯¢ (å¿…é¡»)
1. **ä½¿ç”¨çŸ¥è¯†åº“æœç´¢ç›¸å…³è§£å†³æ–¹æ¡ˆ**:
   - åŸºäºå·®å¼‚åˆ†æç»“æœæ„å»ºæœç´¢å…³é”®è¯: "å—çŠ¶å·®å¼‚", "æ¡å¸¦å·®å¼‚", "ç»“æ„æ€§é—®é¢˜"
   - æŒ‰è¿˜åŸåº¦èŒƒå›´æŸ¥è¯¢: "<90%", "90-95%", "95-98%"
   - æœç´¢ç›¸å…³æŠ€æœ¯å…³é”®è¯: "sizing", "layout", "positioning"
2. **éªŒè¯æ–¹æ¡ˆé€‚ç”¨æ€§å’Œå®æ–½æ­¥éª¤**

#### ç¬¬å››æ­¥: é’ˆå¯¹æ€§ä¿®å¤
1. **ç»“æ„æ€§é—®é¢˜ä¿®å¤** (å—çŠ¶/æ¡å¸¦çŠ¶å·®å¼‚):
   - ä¿®æ­£ layout sizing å®ç°
   - è°ƒæ•´ positioning å’Œ spacing
   - é‡æ–°å®ç°å¸ƒå±€ç»“æ„
2. **æ¸²æŸ“é—®é¢˜ä¿®å¤** (ç»†çº¿çŠ¶å·®å¼‚):
   - ä¼˜åŒ–é¢œè‰²ç²¾åº¦å’Œå­—ä½“æ¸²æŸ“
   - è°ƒæ•´è¾¹ç¼˜å¤„ç†å’ŒæŠ—é”¯é½¿
3. **å•ä¸€å˜é‡ä¿®å¤**: ä¸€æ¬¡åªä¿®æ”¹ä¸€ä¸ªä¸»è¦é—®é¢˜

#### ç¬¬äº”æ­¥: éªŒè¯ä¸è¿­ä»£
1. é‡æ–°æˆªå›¾å’Œå¯¹æ¯”
2. åˆ†ææ–°çš„å·®å¼‚å›¾å˜åŒ–
3. è®°å½•æœ‰æ•ˆä¿®å¤æ–¹æ¡ˆ
4. æœ€å¤šè¿­ä»£ 3 æ¬¡

**é‡è¦**: ç»ä¸å…è®¸è·³è¿‡å‰ä¸‰æ­¥ç›´æ¥ä¿®å¤ã€‚å¿…é¡»å…ˆåˆ†æå·®å¼‚å›¾ï¼Œå†åˆ†æåŸå§‹JSONï¼Œç„¶åæŸ¥è¯¢çŸ¥è¯†åº“ã€‚

## Quality Assurance Architecture

### Restoration Accuracy Standards
- **Target**: â‰¥98% pixel match (threshold: 0.02)
- **Data storage**: Store results in `metadata.json.restorationData`
- **Visual validation**: Use expected.png as ground truth for element filtering
- **Complex Element Strategy**: Convert complex UI elements to SVG assets instead of CSS recreation

### Performance Requirements
- **SVG Optimization**: Optimize SVG files for minimal size
- **CSS Efficiency**: Use efficient CSS selectors
- **DOM Complexity**: Minimize DOM complexity through visual-driven element filtering

### Error Handling
- **Path Validation**: Verify absolute paths before tool calls
- **Directory Management**: Ensure target directories exist
- **URL Validation**: Validate Figma URLs and node IDs
- **Server Availability**: Check dev server port availability

## Reference

### Workflow Quick Reference
**Phase 1 Checklist (åˆ†æé˜¶æ®µ):**
- [ ] Extract Figma data
- [ ] Download expected image (useAbsoluteBounds: true if box shadow)
- [ ] Perform visual + JSON analysis
- [ ] Classify elements (text vs assets)
- [ ] Identify special cases (mobile status bar)
- [ ] Plan layout structure
- [ ] Generate analysis report
- [ ] Get user confirmation for asset download plan

**Phase 2 Checklist (å®ç°é˜¶æ®µ):**
- [ ] Download user-confirmed assets (useAbsoluteBounds: true if box shadow)
- [ ] Optimize SVG assets
- [ ] Generate Vue component with planned structure
- [ ] Take component screenshot (useAbsoluteBounds: true if box shadow)
- [ ] Compare with expected image
- [ ] If accuracy < 98%: analyze diff image
- [ ] Re-analyze original JSON
- [ ] Query knowledge base
- [ ] Apply targeted fixes
- [ ] Iterate until 98% accuracy

### Quality Targets
- **Accuracy**: â‰¥98% pixel match
- **Threshold**: 0.02 for comparisons
- **Asset optimization**: All SVG files optimized
- **Path validation**: All paths absolute and verified
- **Documentation**: All successful patterns recorded
- **Critical**: Always use useAbsoluteBounds: true for components with box shadow effects